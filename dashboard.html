<!DOCTYPE html> <!-- Define el tipo de documento como HTML5. -->
<html lang="es"> <!-- Inicia el documento HTML y establece el idioma a español. -->
<head> <!-- Contenedor para metadatos, hojas de estilo y scripts. -->
    <meta charset="UTF-8"> <!-- Especifica la codificación de caracteres como UTF-8 para soportar caracteres especiales. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Configura la vista para que sea responsiva en dispositivos móviles. -->
    <title>Control de Mantenimiento</title> <!-- Establece el título que se muestra en la pestaña del navegador. -->
    <link rel="stylesheet" href="styles.css"> <!-- Enlaza la hoja de estilos local para personalizar la apariencia. -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css"> <!-- Enlaza la librería de íconos Remixicon desde un CDN. -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> <!-- Enlaza la librería de íconos Font Awesome. -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <!-- Enlaza la hoja de estilos de Bootstrap para usar sus componentes. -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Enlaza la librería Chart.js para crear gráficos. -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script> <!-- Enlaza un plugin para Chart.js que muestra etiquetas de datos en los gráficos. -->

    <!-- Google tag (gtag.js) para Google Analytics. -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D9REDB493L"></script> <!-- Carga el script de Google Analytics de forma asíncrona. -->
    <script> <!-- Bloque de script para configurar Google Analytics. -->
        window.dataLayer = window.dataLayer || []; // Inicializa la capa de datos si no existe.
        function gtag() { dataLayer.push(arguments); } // Función para enviar eventos a Google Analytics.
        gtag('js', new Date()); // Registra una nueva vista de página.

        gtag('config', 'G-D9REDB493L'); // Configura Google Analytics con tu ID de seguimiento.
    </script> <!-- Fin del script de Google Analytics. -->

</head> <!-- Cierre de la sección de metadatos. -->
<body> <!-- Contiene todo el contenido visible de la página web. -->
    

    <header> <!-- Define la sección de la cabecera de la página. -->
        <nav class="navbar"> <!-- Barra de navegación, estilizada con la clase 'navbar'. -->
            <div class="container-fluid"> <!-- Contenedor de Bootstrap que ocupa todo el ancho. -->
                <div class="d-flex align-items-center"> <!-- Contenedor flexible para alinear el logo y el título. -->
                    <button class="navbar-toggler" type="button" id="menu-toggle"> <!-- Botón para mostrar/ocultar el menú en dispositivos móviles (menú hamburguesa). -->
                        &#9776; <!-- Entidad HTML para el ícono de hamburguesa (☰). -->
                    </button> <!-- Cierre del botón del menú. -->
                    <a class="logo ms-2" style="text-decoration: none;"> <!-- Enlace para el logo, con estilos en línea para quitar el subrayado. -->
                        <img src="https://res.cloudinary.com/dalxsbtuo/image/upload/v1758648715/622b775b-33b4-4282-888a-75622238edda_rpqric.png" alt="Logo Hulux" style="height: 40px;"> <!-- Imagen del logo de la empresa. -->
                    </a> <!-- Cierre del enlace del logo. -->
                    <div class="logo ms-2"><h3>Control de Mantenimiento y Ciberseguridad Hulux</h3></div> <!-- Título de la aplicación junto al logo. -->
                </div> <!-- Cierre del contenedor flexible. -->
                <ul class="nav-links" id="nav-links"> <!-- Lista de enlaces de navegación. -->
                    <li><a href="index.html">Inicio</a></li> <!-- Enlace a la página de inicio. -->
                    <li><a href="control_de_mantenimiento.html">Control de Mantenimiento</a></li> <!-- Enlace a la página de control. -->
                    <li><a href="dashboard.html" class="active">Dashboard</a></li> <!-- Enlace al dashboard, marcado como la página activa. -->
                    <li><a href="login.html" id="logout-button">Cerrar Sesión</a></li> <!-- Enlace para cerrar sesión. -->
                </ul> <!-- Cierre de la lista de enlaces. -->
            </div> <!-- Cierre del contenedor de la barra de navegación. -->
        </nav> <!-- Cierre de la barra de navegación. -->
    </header> <!-- Cierre de la cabecera. -->

    <script> <!-- Bloque de script para la funcionalidad del menú hamburguesa. -->
        // JavaScript para abrir/cerrar el menú hamburguesa.
        document.getElementById("menu-toggle").onclick = function () { // Asigna un evento de clic al botón del menú.
            document.getElementById("nav-links").classList.toggle("open"); // Añade o quita la clase 'open' a la lista de enlaces para mostrarla u ocultarla.
        };
    </script> <!-- Fin del script del menú. -->

    <main class="container mt-4"> <!-- Contenido principal de la página, con un contenedor de Bootstrap y margen superior. -->
        <h1 class="mb-4 text-center dashboard-title">Dashboard de Mantenimiento</h1> <!-- Título principal de la página del dashboard. -->
        <div id="dashboard-stats" class="row g-4"> <!-- Fila de Bootstrap para las estadísticas, con espaciado (gap) entre columnas. -->
            <!-- Las estadísticas se cargarán aquí dinámicamente a través de JavaScript. -->
            <div class="col-lg-4 col-12"> <!-- Columna para la tarjeta del total de mantenimientos. -->
                <div class="card text-center h-100"> <!-- Tarjeta de Bootstrap, centrada y con altura del 100% de la fila. -->
                    <div class="card-body"> <!-- Cuerpo de la tarjeta. -->
                        <h5 class="card-title">Total de Mantenimientos</h5> <!-- Título de la tarjeta. -->
                        <p class="card-text fs-1" id="total-mantenimientos">0</p> <!-- Párrafo para mostrar el número total, con un ID para ser actualizado por JS. -->
                    </div> <!-- Cierre del cuerpo de la tarjeta. -->
                </div> <!-- Cierre de la tarjeta. -->
            </div> <!-- Cierre de la columna. -->
            <div class="col-lg-8 col-12"> <!-- Columna para la tarjeta del gráfico. -->
                <div class="card h-100"> <!-- Tarjeta de Bootstrap con altura del 100% de la fila. -->
                    <div class="card-body"> <!-- Cuerpo de la tarjeta. -->
                        <h5 class="card-title">Mantenimientos por Tipo</h5> <!-- Título de la tarjeta. -->
                        <div id="mantenimientos-por-tipo"> <!-- Contenedor para el gráfico. -->
                            <canvas id="tipoMantenimientoChart"></canvas> <!-- Elemento canvas donde se dibujará el gráfico de Chart.js. -->
                        </div> <!-- Cierre del contenedor del gráfico. -->
                    </div> <!-- Cierre del cuerpo de la tarjeta. -->
                </div> <!-- Cierre de la tarjeta. -->
            </div> <!-- Cierre de la columna. -->
        </div> <!-- Cierre de la fila de estadísticas. -->

        <div class="row mt-4"> <!-- Nueva fila con margen superior para la tabla de registros. -->
            <div class="col-12"> <!-- Columna que ocupa todo el ancho. -->
                <div class="card"> <!-- Tarjeta para contener la lista de registros. -->
                    <div class="card-body"> <!-- Cuerpo de la tarjeta. -->
                        <h5 class="card-title">Todos los Registros</h5> <!-- Título de la tarjeta. -->
                        <div id="ultimos-registros"></div> <!-- Contenedor donde se insertará la lista de registros desde JavaScript. -->
                    </div> <!-- Cierre del cuerpo de la tarjeta. -->
                </div> <!-- Cierre de la tarjeta. -->
            </div> <!-- Cierre de la columna. -->
        </div> <!-- Cierre de la fila de registros. -->
    </main> <!-- Cierre del contenido principal. -->

    <!-- Pie de página -->
    <footer> <!-- Define la sección del pie de página. -->
        <p>2025 Control de Mantenimiento Hulux.</p> <!-- Párrafo con información de copyright. -->
    </footer> <!-- Cierre del pie de página. -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> <!-- Enlaza el script de Bootstrap (incluye Popper.js). -->
    <script type="module" src="script.js"></script> <!-- Enlaza el script principal como un módulo JavaScript. -->
    <script type="module" src="auth.js"></script> <!-- Enlaza el script de autenticación como un módulo JavaScript. -->
</body> <!-- Cierre del cuerpo de la página. -->
</html> <!-- Cierre del documento HTML. -->
